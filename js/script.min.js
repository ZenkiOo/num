"use strict";const select=document.querySelector(".select-address__current"),account=document.querySelector(".accounts"),mainNavBtnText=document.querySelector(".main-nav__button-text"),mainNavContainer=document.querySelector(".main-nav-container"),mainNavBurger=document.querySelector(".main-nav__burger"),mainNav=document.querySelector(".main-nav"),mainNavBtn=document.querySelector(".main-nav__button"),selectBody=document.querySelector(".select-address__body"),selectList=document.querySelector(".select-address__list"),addButtons=document.querySelector(".add-new"),arrowElem1=document.querySelector(".arrow-icon__elem1"),arrowElem2=document.querySelector(".arrow-icon__elem2"),newAddressButton=document.querySelector(".new-address__button"),trackBtn=document.querySelector(".options-body__tracking"),trackList=document.querySelector(".track-list"),likeBtn=document.querySelector(".options-likes__like"),likesList=likeBtn.querySelector(".likes-list");mainNavBtn.addEventListener("click",e=>{e.preventDefault(),mainNav.classList.toggle("active-height"),mainNavBurger.classList.toggle("arrow-anim"),mainNavBtn.classList.toggle("getwide"),mainNavContainer.classList.toggle("active"),mainNavBtnText.classList.toggle("show")}),account.onmouseover=function(){newAddressButton.classList.add("new-address__button--block")},account.onmouseout=function(){newAddressButton.classList.remove("new-address__button--block")},select.addEventListener("click",(function(e){e.preventDefault(),select.classList.toggle("select-address__current--active"),selectBody.classList.toggle("select-address__body--active"),selectList.classList.toggle("select-address__list--active"),addButtons.classList.toggle("add-new--active"),arrowElem1.classList.toggle("arrow-icon__elem1--active"),arrowElem2.classList.toggle("arrow-icon__elem2--active")})),document.querySelectorAll(".select-address__link").forEach((function(e){e.addEventListener("click",(function(t){function s(t){select.querySelector(t).innerText=e.querySelector(t).innerText}t.preventDefault(),s(".select-item__name"),s(".select-item__country"),s(".select-item__index"),s(".select-item__street")}))})),document.querySelectorAll(".map-options__show").forEach(e=>{e.addEventListener("click",(function(e){e.preventDefault();const t=this.querySelector(".map-options__show-button-inner"),s=this.querySelector(".map-options__show-button");if(!t.classList.contains("active"))return t.classList.add("active"),void s.classList.add("active");t.classList.contains("active")&&(t.classList.remove("active"),s.classList.remove("active"))}))}),trackBtn.addEventListener("mouseenter",()=>{trackList.classList.add("active")}),trackBtn.addEventListener("mouseleave",()=>{trackList.classList.add("fadeout"),setTimeout(()=>{trackList.classList.remove("fadeout"),trackList.classList.remove("active")},400)}),likeBtn.addEventListener("mouseenter",()=>{likesList.classList.add("active")}),likeBtn.addEventListener("mouseleave",()=>{likesList.classList.add("fadeout"),setTimeout(()=>{likesList.classList.remove("fadeout"),likesList.classList.remove("active")},400)}),[...document.querySelectorAll(".header-nav__link")].forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),document.querySelector(".header-nav__link--active").classList.remove("header-nav__link--active"),e.target.classList.add("header-nav__link--active")})}),[...document.querySelectorAll(".area-nav__link")].forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),document.querySelector(".area-nav__link--active").classList.remove("area-nav__link--active");try{e.target.closest(".area-nav__link").classList.add("area-nav__link--active")}catch{e.target.classList.add("area-nav__link--active")}})}),[...document.querySelectorAll(".new-comment__text")].forEach(e=>{e.onfocus=()=>{e.closest(".new-comment").classList.add("active")},e.onblur=()=>{e.closest(".new-comment").classList.remove("active")}});const replyButtons=[...document.querySelectorAll(".comment__footer-reply-link")],commentsArr=[...document.querySelectorAll(".comment")];commentsArr.forEach((e,t)=>{e.dataset.id=t,t++}),replyButtons.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const s=e.closest(".comment").dataset.id,a=e.closest(".comments"),n=document.createElement("DIV");n.classList.add("comment","comment-replied"),a.insertBefore(n,document.querySelector(`div[data-id="${+s+1}"]`)),n.insertAdjacentHTML("beforeend",'\n        <a href="#" class="comment__name">\n          Сергей Титов\n          <span class="comment__name-status"> </span>\n        </a>\n        <p class="comment__text">\n          По настоящему богатый никогда не покажет, что он богат, а\n          вот не очень — обязательно… с умом дела обстоят так же…\n        </p>\n        <div class="comment__footer">\n          <div class="comment__footer-body">\n            <div class="comment__footer-reply">\n              <span class="comment__footer-time"\n                >40 минут назад</span\n              >\n              <a href="#" class="comment__footer-reply-link">Ответить</a>\n            </div>\n            <div class="comment__footer-likes comment-likes">\n              <a href="#" class="comment-likes__like">10</a>\n              <a href="#" class="comment-likes__dislike">2</a>\n              <a href="#" class="comment-likes__exmark"></a>\n            </div>\n          </div>\n        </div>\n      <a href="#" class="comment__close"></a>\n    ')})});class Data{constructor(...e){this.options=e,this.storage={},this.setStorage(),this.linksInit()}linksInit(){[...document.querySelectorAll(".comment-likes__like")].forEach(e=>{e.addEventListener("click",e=>this.likeClick(e))})}likeClick(e){e.preventDefault();const t=this.getStorage(),s=e.target.closest(".comment"),a=t[""+s.dataset.id];for(var n in t)n===s.dataset.id&&t[n][0]++;2===a.length&&a.push("true"),this.setNum(s.querySelector(".comment-likes__like"),t[""+s.dataset.id][0]),this.setChanges(t)}setChanges(e){localStorage.stor=JSON.stringify(e)}setNum(e,t){e.textContent=t}getStorage(){return JSON.parse(localStorage.stor)}setStorage(){const e=this.getCommentsLikes();localStorage.stor?this.renderLikes():(localStorage.stor=JSON.stringify(e),this.comLikes=e)}getCommentsLikes(){const e={};return[...document.querySelectorAll(".comment")].forEach(t=>{const s=+t.querySelector(".comment-likes__like").innerText,a=+t.querySelector(".comment-likes__dislike").innerText;e[""+t.dataset.id]=[s,a]}),e}renderLikes(){const e=this.getStorage();for(var t in e)3===e[t].length&&this.setNum(document.querySelector(`div[data-id="${t}"]`).querySelector(".comment-likes__like"),e[t][0])}}const data=new Data;function random(e,t){return Math.floor(Math.random()*(t-e+1))+e}[...document.querySelectorAll(".track-list__link")].forEach(e=>{e.style.backgroundImage=`url(img/follower${random(1,6)}.jpg)`}),[...document.querySelectorAll(".likes-list__link")].forEach(e=>{e.style.backgroundImage=`url(img/follower${random(1,6)}.jpg)`}),document.querySelectorAll(".tabs-triggers__item").forEach(e=>e.addEventListener("click",(function(t){t.preventDefault();const s=t.target.getAttribute("href"),a=t.target.closest(".tabs");a.querySelectorAll(".tabs-triggers__item").forEach(e=>e.classList.remove("tabs-triggers__item--active")),a.querySelectorAll(".tabs-content__item").forEach(e=>e.classList.remove("tabs-content__item--active"));try{e.classList.add("tabs-triggers__item--active"),document.getElementById(s).classList.add("tabs-content__item--active")}catch{return}})));